#!/usr/local/bin/expect -f
# This Expect script was locally generated by autoexpect and then slightly altered.
# `autoexpect -p dr dotenv setup`
#
# TO NOTE: If helpful uncomment the `exp_internal 1` line below for diagnostic output
# Docs here: https://linux.die.net/man/1/expect

# exp_internal 1

# Use TERM=dumb to prevent terminal color probing which causes OSC sequences
set env(TERM) dumb

set timeout -1

# Get the directory argument (or use current directory if not provided)
set test_dir [lindex $argv 0]
if {$test_dir == ""} {
    set test_dir "."
}

# Change to the test directory
cd $test_dir

spawn dr dotenv setup

match_max 100000

expect "Environment Variables Menu"
send -- "e"
expect "Edit Mode"
# ctrl-s
send -- ""
expect "Environment Variables Menu"
send -- "\r\n"
expect eof
